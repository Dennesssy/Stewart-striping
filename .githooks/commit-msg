#!/bin/sh
# Commit message hook for Stewart-striping project

commit_msg_file=$1
commit_msg=$(cat "$commit_msg_file")

# Minimum commit message length
min_length=10

# Check commit message length
if [ ${#commit_msg} -lt $min_length ]; then
  echo "❌ Commit message too short. Please provide a descriptive message (at least $min_length characters)."
  exit 1
fi

# Check for common typos or issues
if echo "$commit_msg" | grep -qiE "^(wip|temp|test|debug|fix|update)$"; then
  echo "⚠️  Warning: Generic commit message detected. Consider being more specific."
  echo "Current message: $commit_msg"
fi

echo "✅ Commit message validated"
exit 0
